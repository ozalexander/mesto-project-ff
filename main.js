(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}];function t(e,t){var n=t.deleteCard,r=t.zoomCard,o=t.like,c=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),u=c.querySelector(".card__title"),i=c.querySelector(".card__image"),d=c.querySelector(".card__delete-button"),l=c.querySelector(".card__like-button");return i.src=e.link,i.alt=e.name,u.textContent=e.name,d.addEventListener("click",(function(){return n(c)})),i.addEventListener("click",(function(){return r(i)})),l.addEventListener("click",(function(){return o(l)})),c}function n(e,t){e.classList.remove(t),e.removeEventListener("click",e.closeByOuterClickEvt),document.removeEventListener("keydown",e.closeByEscEvt)}var r=document.querySelectorAll(".popup"),o=document.querySelectorAll(".popup__close"),c=document.querySelectorAll(".popup__content"),u=document.querySelectorAll(".popup__form"),i=document.querySelector(".popup__image"),d=document.querySelector(".popup__caption"),l=document.querySelector(".popup__input_type_card-name"),a=document.querySelector(".popup__input_type_url"),s=document.querySelector(".places__list"),p=document.querySelector(".profile__edit-button"),m=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),f=document.querySelector(".popup__input_type_name"),v=document.querySelector(".popup__input_type_description"),y=document.querySelector(".profile__add-button"),k="popup_is-opened",E=0,q=1,S=2,L={deleteCard:function(e){return e.remove()},zoomCard:function(e){h(S),i.src=e.src,i.alt=e.alt,d.textContent=e.alt},like:function(e){return e.classList.toggle("card__like-button_is-active")}},h=function(e){return function(e,t){var r=function(r){return function(e,t,r){"Escape"===e.key&&n(t,r)}(r,e,t)},o=function(){return function(e,t){return n(e,t)}(e,t)};e.classList.add(t),e.addEventListener("click",o),document.addEventListener("keydown",r),e.closeByOuterClickEvt=o,e.closeByEscEvt=r}(r[e],k)},g=function(e){return n(r[e],k)};e.forEach((function(e){return s.append(t(e,L))}));for(var C=0;C<r.length;C++)r[C].classList.add("popup_is-animated");function x(){l.value="",a.value=""}f.value=m.textContent,v.value=_.textContent,p.addEventListener("click",(function(){h(E),f.focus()})),y.addEventListener("click",(function(){h(q),l.focus()})),u[E].addEventListener("submit",(function(e){return function(e){e.preventDefault(),m.textContent=f.value,_.textContent=v.value,g(E)}(e)})),u[q].addEventListener("submit",(function(n){return function(n){n.preventDefault(),e.unshift({name:l.value,link:a.value}),s.insertBefore(t(e[0],L),s.firstChild),e.shift(),g(q),setTimeout(x,600)}(n)})),[E,q,S].forEach((function(e){return c[t=e].addEventListener("click",(function(e){return e.stopPropagation()})),void o[t].addEventListener("click",(function(){return g(t)}));var t}))})();